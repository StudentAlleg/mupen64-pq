This project aimed to implement the recording of a savestate + controls, and then the playback of savestates + controls. Use control-info.py to launch a GUI built using custom tkinter. In this GUI, you can choose the mupen64 executable, the game, and the folder containing all of the plugins. Once this is done, hitting the launch button will launch the game using Pythons subprocess.Popen. Launching this way will ensure that Frida is attached to the proper executable that has the proper settings. By hitting start record after pressing launch, two frida scripts are run. Savestates.js attaches to [insert link to github] and saves a m64p type save to savestates_m64p_initial.st. Control_info.js attaches to GetKeys, which loads from controls in the controller to an object that is then passed to the game. When that function is about to leave, we intercept the pointer to the struct that was just filled, the struct with an unsigned int ‘value’ and a Union of the possible controls. We then save that ‘value’ into a SqlLite database every time that function is called (every frame, once per controller). Then press the stop record to end the recording.

The second program is playback.py, which sets up and launches in a very similar way to control_info.py. This program aimed to load a savestate, and then every frame replace the GetKeys *button pointer with our recorded value. This program never implemented that, as however we were loading the savestate from file was causing issues (would give the Unexpected Command: 00 00 FF).

This is a Windows program, which expects a debug compiled mupen64plus build, which can be done following https://www.mupen64plus.org/wiki/index.php?title=CompilingOnWindows. Expects the Python Modules of customtkinter, frida, and frida_tools. If you are having trouble with getting frida to run, try using a virtual environment (venv).
